<pf-state-manager-list-header
  (create)="create.emit($event)"
  (filterByName)="filterByName($event)"
></pf-state-manager-list-header>

<div class="list-block">
  <pf-state-manager-list-item
    *ngFor="let storeItem of filteredStoreItemList$ | async; let i = index; trackBy: trackById"
    [storeItem]="storeItem"
    [selected]="storeItem.id === selectedStoreItemId"
    (click)="selectStoreItem.emit(storeItem.id)"
    (delete)="delete.emit(storeItem)"
    (duplicate)="duplicate.emit(storeItem)"
  >
  </pf-state-manager-list-item>

  <!-- New Store Item stub-->
  <pf-state-manager-list-item
    *ngIf="!selectedStoreItemId && createMode"
    [storeItem]="newStoreItemStub | async"
    [createMode]="true"
    [selected]="true"
  >
  </pf-state-manager-list-item>
</div>
